<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Title</title>
    <script src="../../dist/web.js"></script>
  </head>
  <body>
    <script>
      window.onload = () => {
        const { Receiver } = StreamMachine;

        /**
         * @todo: CORS
         */
        const receiver = new Receiver({
          billingId: "bvd",
          clientId: "msx50n21x29yik8o0hknjdiw2b275o",
          clientSecret: "gt4#61*F@Iw)EDtCB)9NdpXkGmuPME",
          topic: "c-bvd-rachel-in",
          authUrl: "https://auth.dev.strm.services",
          schemaUrl: "wss://out.dev.strm.services",
        });

        receiver.on("event", (event) => {
          console.log("Receiver", `Event received: ${event.abTests}`);
        });

        receiver.on("error", (error) => {
          console.log("Receiver", error.message);
        });

        receiver.connect();
      };
    </script>
  </body>
</html>
